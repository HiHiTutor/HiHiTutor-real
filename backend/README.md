# HiHiTutor Backend 系統說明

## 🧭 平台整體定位

HiHiTutor 是一個針對學生與導師配對的教育平台，分階段實現自動化、個人化與商業化。

目前平台處於 **第一階段：正式上架 + 人手配對營運**。

## 🪜 發展階段規劃

### 1️⃣ 第一階段：平台上架 + 人手配對（現正進行中）

**目標：** 先行營運、驗證模式、提供基本配對與導師升級服務

**包含功能：**

- 學生可發出「我要搵導師」個案（`/post/tutor-case`）
- 導師可提交升級申請（文件上載、資料填寫）
- Admin 可在後台審批導師升級申請
- 審批通過後自動更新 User 的 `userType = tutor`
- 導師可選擇公開 profile，被學生搜尋到
- 學生可搜尋導師／瀏覽推薦導師列表
- 系統根據評分／VIP 等級排序導師與個案
- 所有資料儲存於 MongoDB（不再使用 JSON）
- 檔案儲存在 AWS S3，另有 UploadLog 紀錄
- 登入註冊支援 phone / email，含 token 驗證

**📌（預計補充）Admin 人手配對導師功能：** 將導師與個案配對並記錄結果

### 2️⃣ 第二階段：AI 自動配對系統（尚未開始）

**目標：** 完全自動配對，降低人手成本、提升效率

**預計功能：**

- 根據學生需求條件自動匹配導師
- 支援興趣、地點、時段、評分等多參數篩選與加權
- 系統智能排序推薦導師給學生
- 學生可直接發送聯絡或配對請求給推薦導師

### 3️⃣ 第三階段：個人任務系統（AIA Vitality 概念）（尚未開始）

**目標：** 鼓勵學生主動學習、獲取實際回報、強化平台黏性

**預計功能：**

- 每位用戶有個人學習目標設定介面
- 系統根據目標推送對應任務／推薦課程
- 用戶完成任務可獲平台回贈／商戶優惠券等獎賞
- 可與大型企業或教育品牌合作，推出聯名任務與商品優惠

## 💰 收費與商業模式發展

| 階段 | 收入來源 |
|------|----------|
| **短期** | 學生每堂 commission 抽成 |
| **中期** | 導師置頂費、廣告曝光費、教育機構上架費 |
| **長期** | 與商戶／企業進行用戶行為數據合作、任務推廣、獎賞整合 |

## ⚠️ 注意事項

- 目前開發集中於 **第一階段** 功能，請勿提前進行 AI 或任務系統相關功能
- 如需擴充，請根據階段規劃逐步推進

## 🏗️ 技術架構

### 資料庫
- **MongoDB**: 主要資料儲存
- **AWS S3**: 檔案儲存服務
- **UploadLog**: 檔案上載記錄追蹤

### 認證系統
- 支援電話號碼與電子郵件註冊
- JWT Token 驗證機制
- 管理員權限控制

### API 端點
- 學生個案管理
- 導師申請與審批
- 用戶搜尋與配對
- 檔案上載與管理

## 📁 專案結構

```
backend/
├── controllers/          # 控制器邏輯
├── models/              # 資料模型
├── routes/              # API 路由
├── middleware/          # 中間件
├── services/            # 服務層
├── utils/               # 工具函數
├── config/              # 配置檔案
├── scripts/             # 管理腳本
└── public/              # 靜態檔案
```

## 🚀 快速開始

1. 安裝依賴
```bash
npm install
```

2. 設定環境變數
```bash
cp .env.example .env
```

3. 啟動開發伺服器
```bash
npm run dev
```

## 📝 API 文檔

詳細的 API 文檔請參考 Postman 集合：`postman/HiHiTutor.postman_collection.json` 